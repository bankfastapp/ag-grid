@use 'ag';

@mixin output {
    .ag-filter-toolpanel-header {
        height: calc(var(--ag-grid-size) * 6);
    }

    .ag-filter-toolpanel-header,
    .ag-filter-toolpanel-search {
        padding: 0 var(--ag-grid-size);
    }

    @include ag.keyboard-focus((ag-filter-toolpanel-header), 4px);
    .ag-filter-toolpanel-group:not(.ag-has-filter)
        > .ag-group-title-bar
        .ag-filter-toolpanel-group-instance-header-icon {
        display: none;
    }

    .ag-filter-toolpanel-group-level-0-header {
        height: calc(var(--ag-grid-size) * 8);
    }

    .ag-filter-toolpanel-group-item {
        margin-top: calc(var(--ag-grid-size) * 0.5);
        margin-bottom: calc(var(--ag-grid-size) * 0.5);
    }

    .ag-filter-toolpanel-search {
        height: var(--ag-header-height);
    }

    .ag-filter-toolpanel-search-input {
        flex-grow: 1;
        height: calc(var(--ag-grid-size) * 4);
        @include ag.unthemed-rtl(
            (
                margin-right: var(--ag-grid-size),
            )
        );
    }

    .ag-filter-toolpanel-group-level-0 {
        border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);
    }

    .ag-filter-toolpanel-expand,
    .ag-filter-toolpanel-group-title-bar-icon {
        @include ag.unthemed-rtl(
            (
                margin-right: var(--ag-grid-size),
            )
        );
    }

    .ag-filter-toolpanel-group-title-bar {
        background-color: transparent;
    }

    .ag-filter-toolpanel-header {
        @include ag.unthemed-rtl(
            (
                padding-left:
                    calc(
                        var(--ag-filter-tool-panel-group-indent) * var(--ag-indentation-level, 0) + var(--ag-grid-size)
                    ),
            )
        );
    }

    .ag-filter-toolpanel-instance-filter {
        border-bottom: var(--ag-borders) var(--ag-border-color);
        border-top: var(--ag-borders) var(--ag-border-color);
        margin-top: var(--ag-grid-size);
    }

    .ag-filter-toolpanel-group-instance-header-icon,
    .ag-filter-toolpanel-instance-header-icon {
        @include ag.unthemed-rtl(
            (
                margin-left: var(--ag-grid-size),
            )
        );
    }

    .ag-set-filter-group-icons {
        color: var(--ag-secondary-foreground-color);
    }

    // new filter tool panel

    .ag-filter-panel {
        display: flex;
        flex-direction: column;
        width: 100%;
        row-gap: var(--ag-widget-container-vertical-padding);
        padding-bottom: var(--ag-widget-container-vertical-padding);

        & > *:not(:last-child) {
            margin-bottom: var(--ag-widget-vertical-spacing);
        }

        .ag-filter-apply-panel {
            padding: 0 var(--ag-widget-container-horizontal-padding);
            flex-wrap: wrap;
            gap: var(--ag-widget-vertical-spacing) var(--ag-widget-horizontal-spacing);
        }

        .ag-filter-apply-panel-apply-button {
            color: var(--ag-filter-panel-apply-button-color);
            background-color: var(--ag-filter-panel-apply-button-background-color);
        }

        .ag-filter-apply-panel-button {
            margin: 0;
        }

        .ag-simple-filter-body-wrapper {
            padding: var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) 0;
        }

        .ag-mini-filter {
            margin-top: var(--ag-widget-vertical-spacing);
            margin-left: var(--ag-widget-container-horizontal-padding);
            margin-right: var(--ag-widget-container-horizontal-padding);
        }
    }

    .ag-filter-panel-container {
        flex: 1;
        overflow: auto;
        padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding) 0;
    }

    .ag-filter-panel-container > *:not(:last-child) {
        margin-bottom: var(--ag-widget-container-vertical-padding);
    }

    .ag-filter-card {
        padding-top: var(--ag-widget-container-vertical-padding);
        padding-bottom: var(--ag-widget-container-vertical-padding);
        border: solid var(--ag-border-width) var(--ag-border-color);
        border-radius: var(--ag-border-radius);
        background-color: var(--ag-background-color);

        .ag-set-filter-item {
            @include ag.unthemed-rtl(
                (
                    padding-left:
                        calc(
                            var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level) *
                                var(--ag-set-filter-indent-size)
                        ),
                    padding-right: var(--ag-widget-container-horizontal-padding),
                )
            );
        }
    }

    .ag-filter-card-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding-left: var(--ag-widget-horizontal-spacing);
        padding-right: var(--ag-widget-horizontal-spacing);
        margin-bottom: calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));

        & > *:not(:last-child) {
            margin-right: var(--ag-grid-size);
        }
    }

    .ag-filter-card-heading {
        flex: 1;
    }

    .ag-filter-card-expand {
        display: flex;
        flex-direction: row;
        width: 100%;
        justify-content: space-between;
        align-items: center;
    }

    .ag-filter-card-title {
        font-weight: var(--ag-header-font-weight);
    }

    .ag-filter-card-summary,
    .ag-filter-card-expand-icon,
    .ag-filter-card-delete-icon {
        color: var(--ag-filter-panel-card-subtle-color);
    }

    .ag-filter-card-expand,
    .ag-filter-card-delete,
    .ag-filter-add-button {
        border-radius: var(--ag-button-border-radius);
        background: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
    }

    .ag-filter-card-summary,
    .ag-filter-type-select {
        margin-left: var(--ag-widget-container-horizontal-padding);
        margin-right: var(--ag-widget-container-horizontal-padding);
    }

    .ag-filter-type-select {
        padding-top: var(--ag-widget-vertical-spacing);
    }

    .ag-filter-card-add {
        padding: 0;
    }

    .ag-filter-add-button {
        display: flex;
        flex-direction: row;
        width: 100%;
        padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);
        align-items: center;
        line-height: 1.5;
    }

    .ag-filter-add-button-label {
        @include ag.unthemed-rtl(
            (
                margin-left: var(--ag-spacing),
            )
        );
    }

    .ag-filter-add-select {
        border: 0;

        .ag-text-field-input {
            padding-left: calc(var(--ag-spacing) * 1.5 + 12px) !important;
        }

        .ag-rich-select-value {
            padding: calc(
                    (
                            (1.5 * var(--ag-font-size) + 2 * var(--ag-widget-container-vertical-padding)) - var(
                                    --ag-input-height
                                )
                        ) / 2
                )
                var(--ag-spacing);
            border: 0;
        }
    }
}
